## 项目概述

通过OCR提取英文作文pdf内容，并通过LLM对其打分和点评。

## 技术栈

- 语言：python 3.10.11
- 包管理：pip

## 项目功能

1. 读取 pdf 文件
2. 将 pdf 文件转换为图片
3. 将图片中的文字提取出来
4. 将文字保存到文本文件中
5. 通过LLM对提取内容进行打分和点评并保存

## 通用规则

- 生成代码简洁易懂，不要有重复
- 使用中文作为回复
- 代码注释要符合人类程序员的样式，不写入不必要的注释，符合 python 规范
- 如果涉及安装依赖，只提示我安装，无需调用运行功能
- 使用venv中的python

# python 代码规范

## 命名规范

- 变量和函数使用 `snake_case` 命名法。
- 常量使用全大写加下划线（`UPPER_CASE`）。
- 使用描述性命名，包含辅助动词（例如：`is_loading`、`has_error`）。
- 类使用 `PascalCase` 命名法。
- 变量、函数和类的命名应反映其用途和使用方式。
- 避免使用缩写，除非缩写被广泛理解（例如：`id`、`url`）。
- 模块名称应简短、小写，尽量避免下划线（例如：`utils.py`）。

## 代码组织

- 将相关代码定义在其使用位置附近。
- 共享的工具函数或常量应放在专用模块中（例如：`utils.py`）。
- 必要时使用 `__init__.py` 文件组织模块导出（桶式导入）。
- 将共享工具函数或常量存储在 `utils` 目录中。
- 将默认值或验证逻辑（例如 Pydantic 模型）与相关代码放在一起。

## 函数与方法

- 使用描述性函数名，清楚表明其功能。
- 为所有公共函数、类和模块添加符合 Google 或 NumPy 格式的文档字符串（docstring）。
- 对于异步代码，优先使用 `async/await`，避免回调或原始 `asyncio` 工具。
- 为复杂逻辑的函数提供清晰的注释说明。
- 保持函数小而专注，遵循单一职责原则。

## 最佳实践

- 使用 `black` 和 `isort` 确保代码格式一致和导入排序。
- 避免使用全局变量，优先使用模块级常量或函数作用域变量。
- 在合适的情况下使用字典或对象解包简化代码。
- 实现完善的空值检查（例如 `None` 处理）。
- 使用类型提示（`typing` 模块）提高代码清晰度，并通过 `mypy` 进行静态类型检查。
- 优先使用 `pathlib` 而非 `os.path` 进行文件系统操作。
- 使用上下文管理器（`with` 语句）管理资源（例如文件操作）。

## 错误处理

- 创建特定领域的自定义异常类（继承自 `Exception`）。
- 对于可能失败的操作，返回结构化响应（例如 `{"success": bool, "data": Any, "error": str}`）。
- 使用 `try-except` 块优雅地处理异常。
- 确保 `async` 函数中的异常被正确捕获和处理。
- 使用 `logging` 模块记录异常及其上下文，而不是 `print`。

## 单一职责

- 每个函数或方法只执行一个明确的任务。
- 保持函数小而专注。
- 如果需要注释说明函数的功能，考虑将其拆分为多个函数。
- 将重复代码提取为可复用函数或工具。
- 通过适当的抽象（例如类、装饰器）共享通用逻辑。
- 维护单一信息源，避免多处重复相同逻辑。
- 将相关代码逻辑分组在一起。
- 确保代码结构清晰且直观。
- 使用一致的文件和文件夹命名约定（例如文件使用 `snake_case`）。

## Python 特定指导原则

- 遵循 PEP 8 风格指南和 PEP 257 文档字符串规范。
- 充分利用 Python 标准库处理常见任务（例如 `collections`、`itertools`）。
- 避免不必要的复杂性，优先选择简单、易读的解决方案。
- 使用虚拟环境（`venv` 或 `poetry`）管理依赖。
